{"version":3,"sources":["media/book_thumbnail.png","components/Books.jsx","components/Header.jsx","components/CurrentBook.jsx","components/Favorites.jsx","App.jsx","store/currentBookReducer.js","store/allBooksReducer.js","store/index.js","index.js"],"names":["Books","loadMore","dispatch","useDispatch","books","useSelector","state","allBooksReducer","totalItems","isFetching","loadmore_button_display","isFetching_loadmore","display_scrollUp_button","error_indicator","window","addEventListener","e","currentTarget","scrollY","type","payload","className","xmlns","preserveAspectRatio","viewBox","height","width","fill","d","fillRule","map","item","thumbnail_url","volumeInfo","imageLinks","thumbnail","empty_book_thumbnail","categories","authors","join","length","slice","to","onClick","src","alt","title","etag","style","display","scrollTo","Header","fetchBooks","scrollRef","fetchFavorites","history","useHistory","useState","checked_free_ebook","handlerFreeEbooks","checked_only_author","handlerOnlyAuthor","toggler","handlerToggle","placeholder","input","erase_button","visibility","ref","onSubmit","preventDefault","push","setTimeout","onChange","event","target","value","previousSibling","id","role","checked","htmlFor","CurrentBook","useEffect","current","scrollHeight","switcher","setSwitcher","book","currentBookReducer","localStorage","getItem","handlerBack","goBack","BookBlock","buy_button","saleInfo","buyLink","href","rel","page_count","pageCount","sale_info","listPrice","amount","currencyCode","published_date","publishedDate","split","reverse","publisher","preview","previewLink","isEbook","props","setItem","console","log","description","Favorites","favorites","empty","favorites_checked","reduce","acc","key","i","App","React","createRef","startIndex","orderBy","category","input_for_loadmore","orderBy_for_loadmore","category_for_loadmore","free_ebooks","search_by_author","favorite_books","favorites_filtered","checkForError","response","ok","Error","statusText","json","fetch","then","result","items","catch","a","filter","publication","total_publications_one","toString","total_publications_ten","total_publications_sum","Number","exact","path","render","defaultState","large_thumbnail","undefined","rootReducer","combineReducers","action","store","createStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c1ef0d34.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/book_thumbnail.94cd23fa.png\";","import './Books.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport empty_book_thumbnail from \"../media/book_thumbnail.png\"\r\n\r\n\r\nexport const Books = ({loadMore})=> {\r\n\r\n    const dispatch = useDispatch()\r\n    const books = useSelector(state => state.allBooksReducer.books)\r\n    const totalItems = useSelector(state => state.allBooksReducer.totalItems)\r\n    const isFetching = useSelector(state => state.allBooksReducer.isFetching)\r\n    const loadmore_button_display = useSelector(state => state.allBooksReducer.loadmore_button_display)\r\n    const isFetching_loadmore = useSelector(state => state.allBooksReducer.isFetching_loadmore)\r\n    const display_scrollUp_button = useSelector(state => state.allBooksReducer.display_scrollUp_button)\r\n    const error_indicator = useSelector(state => state.allBooksReducer.error_indicator)\r\n\r\n    const currentBookHandler = (props) => {\r\n        dispatch({type: \"BOOK\", payload: props})\r\n    }\r\n\r\n    const scrollHandler = (e) => {\r\n        if (e.currentTarget.scrollY > 800) {\r\n            dispatch({type: \"DISPLAY_SCROLLUP_BUTTON\", payload: \"\"})\r\n        }else{\r\n            dispatch({type: \"DISPLAY_SCROLLUP_BUTTON\", payload: \"none\"})\r\n        }\r\n    }\r\n    window.addEventListener(\"scroll\", scrollHandler)\r\n\r\n\r\n    if (error_indicator === 0) {\r\n        return (\r\n            <div className=\"loading\">\r\n                <h2>Ничего не найдено</h2>\r\n            </div>\r\n        )\r\n    } else if (isFetching) {\r\n        return (\r\n            <div className=\"loading\">\r\n                <svg className=\"book-shelf\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid\"\r\n                     viewBox=\"0 0 84 94\" height=\"200\" width=\"200\">\r\n                    <path fill=\"none\" d=\"M37.612 92.805L4.487 73.71c-2.75-1.587-4.45-4.52-4.45-7.687L.008 27.877c-.003-3.154 1.676-6.063 4.405-7.634L37.558 1.167c2.73-1.57 6.096-1.566 8.835.013l33.124 19.096c2.75 1.586 4.45 4.518 4.45 7.686l.028 38.146c.002 3.154-1.677 6.063-4.406 7.634L46.445 92.818c-2.73 1.57-6.096 1.566-8.834-.013z\"/>\r\n                    <g className=\"book-shelf__book book-shelf__book--one\" fillRule=\"evenodd\">\r\n                        <path fill=\"#5199fc\" d=\"M31 29h4c1.105 0 2 .895 2 2v29c0 1.105-.895 2-2 2h-4c-1.105 0-2-.895-2-2V31c0-1.105.895-2 2-2z\"/>\r\n                        <path fill=\"#afd7fb\" d=\"M34 36h-2c-.552 0-1-.448-1-1s.448-1 1-1h2c.552 0 1 .448 1 1s-.448 1-1 1zm-2 1h2c.552 0 1 .448 1 1s-.448 1-1 1h-2c-.552 0-1-.448-1-1s.448-1 1-1z\"/>\r\n                    </g>\r\n                    <g className=\"book-shelf__book book-shelf__book--two\" fillRule=\"evenodd\">\r\n                        <path fill=\"#ff9868\" d=\"M39 34h6c1.105 0 2 .895 2 2v24c0 1.105-.895 2-2 2h-6c-1.105 0-2-.895-2-2V36c0-1.105.895-2 2-2z\"/>\r\n                        <path fill=\"#d06061\" d=\"M42 38c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2z\"/>\r\n                    </g>\r\n                    <g className=\"book-shelf__book book-shelf__book--three\" fillRule=\"evenodd\">\r\n                        <path fill=\"#ff5068\" d=\"M49 32h2c1.105 0 2 .86 2 1.92v25.906c0 1.06-.895 1.92-2 1.92h-2c-1.105 0-2-.86-2-1.92V33.92c0-1.06.895-1.92 2-1.92z\"/>\r\n                        <path fill=\"#d93368\" d=\"M50 35c.552 0 1 .448 1 1v2c0 .552-.448 1-1 1s-1-.448-1-1v-2c0-.552.448-1 1-1z\"/>\r\n                    </g>\r\n                    <g fillRule=\"evenodd\">\r\n                        <path className=\"book-shelf__shelf\" fill=\"#ae8280\" d=\"M21 60h40c1.105 0 2 .895 2 2s-.895 2-2 2H21c-1.105 0-2-.895-2-2s.895-2 2-2z\"/>\r\n                        <path fill=\"#855f6d\" d=\"M51.5 67c-.828 0-1.5-.672-1.5-1.5V64h3v1.5c0 .828-.672 1.5-1.5 1.5zm-21 0c-.828 0-1.5-.672-1.5-1.5V64h3v1.5c0 .828-.672 1.5-1.5 1.5z\"/>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <div className=\"container mb-3\">\r\n                    <div className=\"my-4 mx-4 total_items\">{totalItems}</div>\r\n                    <div className=\"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4\" >\r\n                        {books.map( (item) => {\r\n                            let thumbnail_url = item.volumeInfo.imageLinks ? item.volumeInfo.imageLinks.thumbnail : empty_book_thumbnail\r\n                            let categories = item.volumeInfo.categories ? item.volumeInfo.categories?.[0] : \"No category\"\r\n                            let authors = item.volumeInfo.authors ? item.volumeInfo.authors.join(', ') : item.volumeInfo.authors\r\n                            if (item.volumeInfo.authors?.length > 3) {\r\n                                authors = item.volumeInfo.authors.slice(0,3).join(', ') + \"...\"\r\n                            }\r\n                            return (\r\n                                <Link className=\"col book_block\"  key={item.etag} to=\"/book\" onClick={() => currentBookHandler(item)}>\r\n                                    <div className=\"card h-100\">\r\n                                        <img src={thumbnail_url} className=\"book_image mb-3 rounded shadow\" alt=\"Book thumbnail\"/>\r\n                                        <div>\r\n                                            <p><u>{categories}</u></p>\r\n                                            <h6><strong>{item.volumeInfo.title}</strong></h6>\r\n                                            <p><small className=\"text-muted\">{authors}</small></p>\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className=\"row mt-3 d-flex justify-content-center\">\r\n                        <div className=\"loadmore_button mb-5 rounded\" onClick={loadMore} style={{display: loadmore_button_display}}>\r\n                            <strong>{isFetching_loadmore}</strong>\r\n                        </div>\r\n                        <div className=\"up_button mb-5 rounded\" onClick={() => {\r\n                            window.scrollTo( 0, 0 );\r\n                        }} style={{display: display_scrollUp_button}}>\r\n                            <i className=\"fas fa-chevron-up\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import './Header.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {useState} from \"react\";\r\n\r\n\r\nexport const Header = ({fetchBooks, scrollRef, fetchFavorites}) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [checked_free_ebook, handlerFreeEbooks] = useState(false);\r\n    const [checked_only_author, handlerOnlyAuthor] = useState(false);\r\n    const [toggler, handlerToggle] = useState(\"far fa-caret-square-down navbar-toggler\");\r\n    const placeholder = useSelector(state => state.allBooksReducer.placeholder)\r\n    const input = useSelector(state => state.allBooksReducer.input)\r\n    const handlerOrder = (e) => dispatch({type: \"CHANGE_ORDER\", payload: e.target.value})\r\n    const handlerCategory = (e) => dispatch({type: \"CHANGE_CATEGORY\", payload: e.target.value})\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        history.push('/')\r\n        fetchBooks()\r\n    }\r\n\r\n    const handlerFavorites = () => {\r\n        fetchFavorites()\r\n    }\r\n\r\n    if (checked_free_ebook) {\r\n        dispatch({type: \"FREE_EBOOKS\", payload: \"&filter=free-ebooks\"})\r\n    } else {\r\n        dispatch({type: \"FREE_EBOOKS\", payload: \"\"})\r\n    }\r\n    if (checked_only_author) {\r\n        dispatch({type: \"SEARCH_BY_AUTHOR\", payload: \"inauthor:\"})\r\n    } else {\r\n        dispatch({type: \"SEARCH_BY_AUTHOR\", payload: \"\"})\r\n    }\r\n    const erase_button = input === \"\" ? {visibility: \"hidden\"} : {display: \"\"}\r\n\r\n    const handlerToggler = () => {\r\n        if (toggler === \"far fa-caret-square-down navbar-toggler\") {\r\n            setTimeout(() => {\r\n                handlerToggle(\"far fa-caret-square-up navbar-toggler\")\r\n            }, 300)\r\n        } else {\r\n            setTimeout(() => {\r\n                handlerToggle(\"far fa-caret-square-down navbar-toggler\")\r\n            }, 300)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div ref={scrollRef} className=\"header container-fluid rounded\">\r\n            <div className=\"header_layer py-4 shadow rounded\">\r\n                <nav className=\"navbar navbar-expand-sm header_content row my-2 \">\r\n                    <div className=\"col-sm-4 d-flex justify-content-center \">\r\n                        <Link to=\"/\"><div className=\"fas fa-book\"><div className=\"title\">Gbooks<br/><h6>Поиск книг <br/>в каталоге Google</h6></div></div></Link>\r\n                    </div>\r\n                    <div className=\"col-sm-8 search_block\" >\r\n                        <div className=\"row d-flex justify-content-center\">\r\n                            <div className=\"col d-flex justify-content-center\" >\r\n                                <form onSubmit={onSubmit}>\r\n                                    <i className={toggler} data-bs-toggle=\"collapse\" data-bs-target=\"#navbarTogglerDemo03\" onClick={handlerToggler}/>\r\n                                    <input className=\"search_bar rounded\" type=\"text\" placeholder={placeholder}\r\n                                       onChange={ (event) => {\r\n                                           dispatch({type: \"INPUT\", payload: event.target.value})\r\n                                       }}/><i className=\"fas fa-times\" onClick={ (e)=> {\r\n                                           e.target.previousSibling.value = \"\"\r\n                                           dispatch({type: \"INPUT\", payload: \"\"})\r\n                                       }} style={erase_button}/>\r\n                                    <Link to=\"/\"><i className=\"fas fa-search\" onClick={fetchBooks}/></Link>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"row collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\r\n                                <div className=\"row d-flex justify-content-center pt-3 \" >\r\n                                    <div className=\"col-lg-auto d-flex justify-content-center d-flex align-items-center pt-3\">\r\n                                        <label className=\"label_config\">Категория</label>\r\n                                        <select className=\"rounded\" onChange={handlerCategory}>\r\n                                            <option value=\"\">Все</option>\r\n                                            <option value=\"+subject:art\">Искусство</option>\r\n                                            <option value=\"+subject:biography\">Биография</option>\r\n                                            <option value=\"+subject:computers\">Компьютеры</option>\r\n                                            <option value=\"+subject:history\">История</option>\r\n                                            <option value=\"+subject:medical\">Медицина</option>\r\n                                            <option value=\"+subject:poetry\">Поэзия</option>\r\n                                        </select>\r\n                                        <i className=\"fas fa-caret-down\"/>\r\n                                    </div>\r\n                                    <div className=\"col-lg-auto d-flex justify-content-center d-flex align-items-center pt-3\">\r\n                                        <label className=\"label_config\">Сортировка</label>\r\n                                        <select className=\"rounded\" onChange={handlerOrder}  id=\"sort\">\r\n                                            <option value=\"&orderBy=relevance\">По умолчанию</option>\r\n                                            <option value=\"&orderBy=newest\">Новые</option>\r\n                                        </select>\r\n                                        <i className=\"fas fa-caret-down\"/>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row d-flex justify-content-center pt-3\">\r\n                                    <div className=\"col-md-auto d-flex justify-content-center d-flex align-items-center pt-3\">\r\n                                        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic checkbox toggle button group\">\r\n                                            <input type=\"checkbox\" className=\"btn-check\" id=\"btn-check-one-outlined\" checked={checked_only_author} onChange={ () => handlerOnlyAuthor(!checked_only_author)}/>\r\n                                            <label className=\"btn btn-outline-secondary\" htmlFor=\"btn-check-one-outlined\">Поиск по автору</label>\r\n                                            <input type=\"checkbox\" className=\"btn-check\" id=\"btn-check-two-outlined\" checked={checked_free_ebook} onChange={ () => handlerFreeEbooks(!checked_free_ebook)}/>\r\n                                            <label className=\"btn btn-outline-secondary\" htmlFor=\"btn-check-two-outlined\">Только бесплатные</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-auto d-flex justify-content-center d-flex align-items-center pt-3\">\r\n                                        <Link className=\"btn btn-outline-secondary\" to=\"/favorites\" onClick={handlerFavorites}>Избранное</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport './CurrentBook.scss';\r\nimport empty_book_thumbnail from \"../media/book_thumbnail.png\"\r\nimport {useEffect, useState} from \"react\";\r\n\r\n\r\nexport const CurrentBook = ({scrollRef}) => {\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, scrollRef.current.scrollHeight)\r\n    })\r\n\r\n    let [switcher, setSwitcher] = useState(false)\r\n    const book = useSelector(state => state.currentBookReducer.book)\r\n    const dispatch = useDispatch()\r\n    const checked = useSelector(state => state.currentBookReducer.checked)\r\n    const history = useHistory()\r\n\r\n    if (localStorage.getItem(book.id) === \"checked\") {\r\n        dispatch({type: \"SET_CHECKED\", payload: \"checked\"})\r\n    } else if (localStorage.getItem(book.id) === null || localStorage.getItem(book.id) === \"\") {\r\n        dispatch({type: \"SET_CHECKED\", payload: \"\"})\r\n    }\r\n\r\n    const handlerFavorites = (props) => {\r\n        setSwitcher(!switcher)\r\n        if(!switcher && (localStorage.getItem(book.id) === \"\" || localStorage.getItem(book.id) === null)) {\r\n            localStorage.setItem(`${props.id}`, \"checked\")\r\n            console.log(props.id + \" Добавлено\")\r\n            setSwitcher(!switcher)\r\n        } else {\r\n            localStorage.setItem(`${props.id}`, \"\")\r\n            console.log(props.id + \" Удалено\")\r\n            setSwitcher(!switcher)\r\n        }\r\n    }\r\n    const handlerBack = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    const BookBlock = () => {\r\n\r\n        let thumbnail_url = book.volumeInfo?.imageLinks ? book.volumeInfo.imageLinks.thumbnail : empty_book_thumbnail\r\n        let categories = book.volumeInfo?.categories ? book.volumeInfo.categories : \"\"\r\n        let authors = book.volumeInfo?.authors ? book.volumeInfo?.authors.join(', ') : book.volumeInfo?.authors\r\n        let buy_button = book.saleInfo?.buyLink ? <a href={book.saleInfo.buyLink} rel=\"noreferrer\" target=\"_blank\" className=\"buy_button shadow mb-3 rounded\">Приобрести в Google Play</a> : \"\"\r\n        let page_count = book.volumeInfo?.pageCount ? <div className=\"d-flex justify-content-center\">Количество страниц:&nbsp;<strong>{book.volumeInfo.pageCount}</strong></div> : \"\"\r\n        let sale_info = book.saleInfo?.listPrice ? <div className=\"d-flex justify-content-center\">Стоимость:&nbsp;<strong>{book.saleInfo.listPrice.amount}</strong>&nbsp;{book.saleInfo.listPrice.currencyCode}</div> : \"\"\r\n        let published_date = book.volumeInfo?.publishedDate ? <div className=\"d-flex justify-content-center\">Дата публикации:&nbsp;{book.volumeInfo.publishedDate.split(\"-\").reverse().join(\".\")}</div> : \"\"\r\n        let publisher = book.volumeInfo?.publisher ? <div className=\"d-flex justify-content-center mb-2\">{book.volumeInfo.publisher}</div> : \"\"\r\n        let preview = book.volumeInfo?.previewLink && book.saleInfo?.isEbook ? <a href={book.volumeInfo.previewLink} rel=\"noreferrer\" target=\"_blank\" className=\"buy_button shadow mb-3 rounded\">Прочитать отрывок</a> : \"\"\r\n            return (\r\n                <div className=\"container\">\r\n                    <div className=\"row pt-5 d-flex justify-content-center\">\r\n                        <div className=\"col-sm-6\">\r\n                            <div className=\"row mb-3 d-flex justify-content-center\">\r\n                                <img src={thumbnail_url} className=\"current_card_img rounded shadow\" alt=\"Book thumbnail\"/>\r\n                            </div>\r\n                            <div className=\"row mb-5 text-muted\">\r\n                                {published_date}\r\n                                {publisher}\r\n                                {page_count}\r\n                                {sale_info}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-6\">\r\n                            <input type=\"checkbox\" className=\"btn-check\" id={book.id} checked={checked} onChange={ () => handlerFavorites(book)}/>\r\n                            <label className=\"fas fa-star btn btn-outline-secondary\" htmlFor={book.id}/>\r\n                            <h3 className=\"mb-3\">{book.volumeInfo?.title}</h3>\r\n                            <h6 className=\"text-muted\">{authors}</h6>\r\n                            <h6 className=\"my-3\"><u>{categories}</u></h6>\r\n                            <p className=\"description mb-4\">{book.volumeInfo?.description}</p>\r\n                            {buy_button}\r\n                            {preview}\r\n                            <div className=\"back_button shadow mb-5 rounded\" onClick={handlerBack}>Назад</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                <BookBlock/>\r\n            </div>)\r\n\r\n}","import {useDispatch, useSelector} from \"react-redux\";\r\nimport empty_book_thumbnail from \"../media/book_thumbnail.png\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport const Favorites = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const favorites = useSelector(state => state.allBooksReducer.favorites)\r\n    const isFetching = useSelector(state => state.allBooksReducer.isFetching)\r\n    let empty = \"\"\r\n\r\n    const currentBookHandler = (props) => {\r\n        dispatch({type: \"BOOK\", payload: props})\r\n    }\r\n\r\n    let favorites_checked = favorites.reduce((acc, item) => {\r\n        let key\r\n        for(let i=0; i<localStorage.length; i++) {\r\n            key = localStorage.key(i);\r\n            if (key === item.id && localStorage.getItem(key) !== \"\") {\r\n                acc.push(item)\r\n            }\r\n        }\r\n        return acc\r\n    }, [])\r\n\r\n    if (favorites.length === 0 || favorites_checked.length === 0) {\r\n        empty = \" (Пусто)\"\r\n    }\r\n\r\n    if (isFetching) {\r\n        return (\r\n            <div className=\"loading\">\r\n                <svg className=\"book-shelf\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 84 94\" height=\"200\" width=\"200\">\r\n                    <path fill=\"none\" d=\"M37.612 92.805L4.487 73.71c-2.75-1.587-4.45-4.52-4.45-7.687L.008 27.877c-.003-3.154 1.676-6.063 4.405-7.634L37.558 1.167c2.73-1.57 6.096-1.566 8.835.013l33.124 19.096c2.75 1.586 4.45 4.518 4.45 7.686l.028 38.146c.002 3.154-1.677 6.063-4.406 7.634L46.445 92.818c-2.73 1.57-6.096 1.566-8.834-.013z\"/>\r\n                    <g className=\"book-shelf__book book-shelf__book--one\" fillRule=\"evenodd\">\r\n                        <path fill=\"#5199fc\" d=\"M31 29h4c1.105 0 2 .895 2 2v29c0 1.105-.895 2-2 2h-4c-1.105 0-2-.895-2-2V31c0-1.105.895-2 2-2z\"/>\r\n                        <path fill=\"#afd7fb\" d=\"M34 36h-2c-.552 0-1-.448-1-1s.448-1 1-1h2c.552 0 1 .448 1 1s-.448 1-1 1zm-2 1h2c.552 0 1 .448 1 1s-.448 1-1 1h-2c-.552 0-1-.448-1-1s.448-1 1-1z\"/>\r\n                    </g>\r\n                    <g className=\"book-shelf__book book-shelf__book--two\" fillRule=\"evenodd\">\r\n                        <path fill=\"#ff9868\" d=\"M39 34h6c1.105 0 2 .895 2 2v24c0 1.105-.895 2-2 2h-6c-1.105 0-2-.895-2-2V36c0-1.105.895-2 2-2z\"/>\r\n                        <path fill=\"#d06061\" d=\"M42 38c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2z\"/>\r\n                    </g>\r\n                    <g className=\"book-shelf__book book-shelf__book--three\" fillRule=\"evenodd\">\r\n                        <path fill=\"#ff5068\" d=\"M49 32h2c1.105 0 2 .86 2 1.92v25.906c0 1.06-.895 1.92-2 1.92h-2c-1.105 0-2-.86-2-1.92V33.92c0-1.06.895-1.92 2-1.92z\"/>\r\n                        <path fill=\"#d93368\" d=\"M50 35c.552 0 1 .448 1 1v2c0 .552-.448 1-1 1s-1-.448-1-1v-2c0-.552.448-1 1-1z\"/>\r\n                    </g>\r\n                    <g fillRule=\"evenodd\">\r\n                        <path className=\"book-shelf__shelf\" fill=\"#ae8280\" d=\"M21 60h40c1.105 0 2 .895 2 2s-.895 2-2 2H21c-1.105 0-2-.895-2-2s.895-2 2-2z\"/>\r\n                        <path fill=\"#855f6d\" d=\"M51.5 67c-.828 0-1.5-.672-1.5-1.5V64h3v1.5c0 .828-.672 1.5-1.5 1.5zm-21 0c-.828 0-1.5-.672-1.5-1.5V64h3v1.5c0 .828-.672 1.5-1.5 1.5z\"/>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n        )\r\n    } else return(\r\n        <div className=\"container mb-5\">\r\n            <h3 className=\"my-4 mx-4\">Избранное {empty}</h3>\r\n            <div className=\" row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4\" >\r\n                {favorites_checked.map( (item) => {\r\n                    let thumbnail_url = item.volumeInfo.imageLinks ? item.volumeInfo.imageLinks.thumbnail : empty_book_thumbnail\r\n                    let categories = item.volumeInfo.categories ? item.volumeInfo.categories?.[0].split(\"/\")[0] : \"No category\"\r\n                    let authors = item.volumeInfo.authors ? item.volumeInfo.authors.join(', ') : item.volumeInfo.authors\r\n                    if (item.volumeInfo.authors?.length > 3) {\r\n                        authors = item.volumeInfo.authors.slice(0,3).join(', ') + \"...\"\r\n                    }\r\n                    return (\r\n                        <Link className=\"col book_block\"  key={item.etag} to=\"/book\" onClick={() => currentBookHandler(item)}>\r\n                            <div className=\"card h-100\">\r\n                                <img src={thumbnail_url} className=\"book_image mb-3 rounded shadow\" alt=\"Book thumbnail\"/>\r\n                                <div>\r\n                                    <p><u>{categories}</u></p>\r\n                                    <h6><strong>{item.volumeInfo.title}</strong></h6>\r\n                                    <p><small className=\"text-muted\">{authors}</small></p>\r\n                                </div>\r\n                            </div>\r\n                        </Link>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import './App.css';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Books} from \"./components/Books\";\nimport {Header} from \"./components/Header\";\nimport {CurrentBook} from \"./components/CurrentBook\";\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport React from \"react\";\nimport {Favorites} from \"./components/Favorites\";\n\nfunction App() {\n\n    //vk-tunnel --insecure=1 --http-protocol=https --ws-protocol=wss --host=localhost --port=10888\n\n    const scrollRef = React.createRef()\n    const dispatch = useDispatch()\n    const startIndex = useSelector(state => state.allBooksReducer.startIndex)\n    const input = useSelector(state => state.allBooksReducer.input)\n    const orderBy = useSelector( state => state.allBooksReducer.orderBy)\n    const category = useSelector( state => state.allBooksReducer.category)\n    const input_for_loadmore = useSelector( state => state.allBooksReducer.input_for_loadmore)\n    const orderBy_for_loadmore = useSelector( state => state.allBooksReducer.orderBy_for_loadmore)\n    const category_for_loadmore = useSelector( state => state.allBooksReducer.category_for_loadmore)\n    const free_ebooks = useSelector( state => state.allBooksReducer.free_ebooks)\n    const search_by_author = useSelector( state => state.allBooksReducer.search_by_author)\n    let favorite_books = []\n    let favorites_filtered = []\n\n\n    if (search_by_author) {\n        dispatch({type: \"INPUT_PLACEHOLDER\", payload: \"Автор\"})\n    } else {\n        dispatch({type: \"INPUT_PLACEHOLDER\", payload: \"Название\"})\n    }\n\n    const checkForError = response => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n    };\n\n    const fetchBooks = () => {\n\n        if (!input) {\n            dispatch({type: \"INPUT_PLACEHOLDER\", payload: \"Пустой запрос\"})\n        } else {\n            dispatch({type: \"IS_FETCHING\", payload: true})\n            fetch(`https://www.googleapis.com/books/v1/volumes?q=${search_by_author}${input}${category}&startIndex=0&maxResults=15${orderBy}${free_ebooks}&key=AIzaSyCxJF0JN_3n7DjrjVPcNFbBDdpveeeWm1k`)\n                .then(checkForError)\n                .then(result => {\n                    console.log(result)\n                    // Проверка \"издания\"\n                    let publication = \"\"\n                    let total_publications_one = result.totalItems.toString()[result.totalItems.toString().length-1]\n                    let total_publications_ten = result.totalItems.toString()[result.totalItems.toString().length-2]\n                    let total_publications_sum = Number(total_publications_ten + total_publications_one)\n                    if (total_publications_sum > 4 && total_publications_sum < 21) publication = \" изданий\"\n                    else if (total_publications_one === \"2\" || total_publications_one === \"3\" || total_publications_one === \"4\") publication = \" издания\"\n                    else if (total_publications_one === \"1\") publication = \" издание\"\n                    else publication = \" изданий\"\n\n                    dispatch({type: \"FETCH_BOOKS\", payload: result.items})\n                    dispatch({type: \"ERROR_INDICATOR\", payload: result.totalItems})\n                    dispatch({type: \"IS_FETCHING\", payload: false})\n                    dispatch({type: \"TOTAL_ITEMS\", payload: <h3><span>Найдено <strong>{result.totalItems}</strong>{publication}</span></h3>})\n                    dispatch({type: \"INPUT_PLACEHOLDER\", payload: \"Название\"})\n                    dispatch({type: \"CHANGE_INPUT_FOR_LOADMORE\", payload: input})\n                    dispatch({type: \"CHANGE_ORDER_FOR_LOADMORE\", payload: orderBy})\n                    dispatch({type: \"CHANGE_CATEGORY_FOR_LOADMORE\", payload: category})\n                    dispatch({type: \"CLEAR_START_INDEX\", payload: 15})\n                    result.totalItems > 15 ? dispatch({type: \"LOADMORE_BUTTON\", payload: \"\"}) : dispatch({type: \"LOADMORE_BUTTON\", payload: \"none\"})\n                })\n                .catch(e => {\n                    console.log(\"Ошибка fetchBooks \" + e)\n                })\n        }\n    }\n    const loadMore = () => {\n        dispatch({type: \"IS_FETCHING_LOADMORE\", payload: <i className=\"fas fa-redo-alt\"/>})\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=${input_for_loadmore}${category_for_loadmore}&startIndex=${startIndex}&maxResults=15&${orderBy_for_loadmore}${free_ebooks}&key=AIzaSyCxJF0JN_3n7DjrjVPcNFbBDdpveeeWm1k`)\n            .then(checkForError)\n            .then(result => {\n                // let books_loadmore = result.items                     //запрос на перевод с англ категорий и добавление переведенных в массив loadmore\n                // let res_loadmore = []\n                // let categories = []\n                // result.items.map( item => {\n                //     let reg = /&/g\n                //     if (item.volumeInfo.categories?.[0] === undefined) {\n                //         categories.push(\"No category\")\n                //     } else {\n                //         categories.push(item.volumeInfo.categories?.[0].replace(reg, \"and\"))\n                //     }\n                //     return categories\n                // })\n                // let categories_string = categories.join(\"@\")\n                // fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=ru&dt=t&dj=1&source=icon&q=${categories_string}`)\n                //     .then(response => response.json())\n                //     .then(result => {\n                //         console.log(categories_string)\n                //         let categories_arr = result.sentences[0].trans.split(\"@\")\n                //         console.log(categories_arr)\n                //         for (let i = 0; i < books_loadmore.length; i++) {\n                //             books_loadmore[i] = {...books_loadmore[i], translated_category: categories_arr[i]}\n                //             res_loadmore.push(books_loadmore[i])\n                //             console.log(res_loadmore)\n                //         }\n                //     })\n                //     .catch(e => {\n                //         console.log(\"Ошибка перевода loadmore\" + e)\n                //     })\n\n                dispatch({type: \"LOADMORE_BOOKS\", payload: result.items})\n                dispatch({type: \"IS_FETCHING_LOADMORE\", payload: \"Следующие\"})\n                dispatch({type: \"START_INDEX\", payload: 15})\n                startIndex >= result.totalItems - 15 ? dispatch({type: \"LOADMORE_BUTTON\", payload: \"none\"}) : dispatch({type: \"LOADMORE_BUTTON\", payload: \"\"})\n            })\n            .catch(e => {\n                dispatch({type: \"ERROR_INDICATOR\", payload: true})\n                console.log(\"Ошибка loadMore \" + e)\n            })\n    }\n\n\n    const fetchFavorites = async () => {\n        dispatch({type: \"IS_FETCHING\", payload: true})\n        for(let i=0; i<localStorage.length; i++) {\n            let key = localStorage.key(i);\n            if (localStorage.key(i) !== localStorage.key(i-1)) {\n                favorites_filtered.push({id: localStorage.key(i), value: localStorage.getItem(key)})\n            }\n        }\n        favorites_filtered = favorites_filtered.filter( (item) => {\n            return item.value === \"checked\"\n        })\n\n        for (const item of favorites_filtered) {\n             await fetch(`https://www.googleapis.com/books/v1/volumes/${item.id}`)\n                 .then(checkForError)\n                 .then(result => {\n                     favorite_books.push(result)\n                 }).catch(e => {\n                     console.log(\"Ошибка fetchFavorites \" + e)\n                })\n        }\n        dispatch({type: \"FAVORITES\", payload: favorite_books})\n        dispatch({type: \"IS_FETCHING\", payload: false})\n        favorites_filtered = []\n        favorite_books = []\n    }\n\n    return(\n        <BrowserRouter>\n            <Header fetchFavorites={fetchFavorites} fetchBooks={fetchBooks} scrollRef={scrollRef} />\n            <Route exact path=\"/\" render={()=><Books loadMore={loadMore} />} />\n            <Route path=\"/book\" render={()=><CurrentBook scrollRef={scrollRef} />} />\n            <Route path=\"/favorites\" render={()=><Favorites />} />\n        </BrowserRouter>\n    );\n\n}\nexport default App;","const defaultState = {\r\n    large_thumbnail: \"\",\r\n    book: \"\",\r\n    favorites: \"\",\r\n    checked: \"\",\r\n}\r\n\r\nexport const currentBookReducer = (state= defaultState, action)=> {\r\n    switch (action.type) {\r\n        case \"BOOK\":\r\n            return {...state, book: action.payload}\r\n        case \"LARGE_THUMBNAIL\":\r\n            return {...state, large_thumbnail: action.payload}\r\n        case \"SET_CHECKED\":\r\n            return {...state, checked: action.payload}\r\n\r\n        default: return state\r\n\r\n    }\r\n}\r\n","\r\nconst defaultState = {\r\n    books: [],\r\n    totalItems: null,\r\n    isFetching: false,\r\n    loadmore_button_display: \"none\",\r\n    input: \"\",\r\n    placeholder: \"Название\",\r\n    orderBy: \"&orderBy=relevance\",\r\n    category: \"\",\r\n    isFetching_loadmore: \"Следующие\",\r\n    input_for_loadmore: \"\",\r\n    orderBy_for_loadmore: \"\",\r\n    category_for_loadmore: \"\",\r\n    startIndex: 15,\r\n    display_scrollUp_button: \"none\",\r\n    error_indicator: undefined,\r\n    free_ebooks: \"\",\r\n    search_by_author: \"\",\r\n    favorites: [],\r\n}\r\n\r\nexport const allBooksReducer = (state= defaultState, action)=> {\r\n    switch (action.type) {\r\n        case \"FETCH_BOOKS\":\r\n            return {...state, books: action.payload}\r\n        case \"LOADMORE_BOOKS\":\r\n            return {...state, books: [...state.books, ...action.payload]}\r\n        case \"TOTAL_ITEMS\":\r\n            return {...state, totalItems: action.payload}\r\n        case \"IS_FETCHING\":\r\n            return {...state, isFetching: action.payload}\r\n        case \"LOADMORE_BUTTON\":\r\n            return {...state, loadmore_button_display: action.payload}\r\n        case \"INPUT\":\r\n            return {...state, input: action.payload}\r\n        case \"INPUT_PLACEHOLDER\":\r\n            return {...state, placeholder: action.payload}\r\n        case \"CHANGE_ORDER\" :\r\n            return {...state, orderBy: action.payload}\r\n        case \"CHANGE_CATEGORY\" :\r\n            return {...state, category: action.payload}\r\n        case \"IS_FETCHING_LOADMORE\" :\r\n            return {...state, isFetching_loadmore: action.payload}\r\n        case \"CHANGE_INPUT_FOR_LOADMORE\" :\r\n            return {...state, input_for_loadmore: action.payload}\r\n        case \"CHANGE_ORDER_FOR_LOADMORE\" :\r\n            return {...state, orderBy_for_loadmore: action.payload}\r\n        case \"CHANGE_CATEGORY_FOR_LOADMORE\" :\r\n            return {...state, category_for_loadmore: action.payload}\r\n        case \"START_INDEX\" :\r\n            return {...state, startIndex: state.startIndex + action.payload}\r\n        case \"CLEAR_START_INDEX\" :\r\n            return {...state, startIndex: action.payload}\r\n        case \"DISPLAY_SCROLLUP_BUTTON\" :\r\n            return {...state, display_scrollUp_button: action.payload}\r\n        case \"ERROR_INDICATOR\" :\r\n            return {...state, error_indicator: action.payload}\r\n        case \"FREE_EBOOKS\" :\r\n            return {...state, free_ebooks: action.payload}\r\n        case \"SEARCH_BY_AUTHOR\" :\r\n            return {...state, search_by_author: action.payload}\r\n        case \"FAVORITES\" :\r\n            return {...state, favorites: action.payload}\r\n\r\n        default: return state\r\n    }\r\n}","import {createStore, combineReducers} from \"redux\";\r\nimport {currentBookReducer} from \"./currentBookReducer\"\r\nimport {allBooksReducer} from \"./allBooksReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    allBooksReducer,\r\n    currentBookReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport {store} from \"./store\";\nimport {Provider} from \"react-redux\";\n\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}