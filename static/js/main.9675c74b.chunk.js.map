{"version":3,"sources":["media/book_thumbnail.png","components/Books.jsx","components/Header.jsx","components/CurrentBook.jsx","App.jsx","store/currentBookReducer.js","store/allBooksReducer.js","store/index.js","index.js"],"names":["Books","loadMore","dispatch","useDispatch","books","useSelector","state","allBooksReducer","totalItems","isFetching","loadmore_button_display","isFetching_loadmore","key_counter","className","length","map","item","thumbnail_url","undefined","volumeInfo","imageLinks","book_thumbnail","thumbnail","categories","authors","join","to","onClick","props","etag","type","payload","src","alt","title","style","display","Header","fetchBooks","history","useHistory","placeholder","onSubmit","e","preventDefault","push","onChange","event","target","value","CurrentBook","book_etag","currentBookReducer","handlerBack","goBack","arr_bookcards","buy_button","saleInfo","buyLink","href","rel","description","App","startIndex","input","orderBy","category","input_for_loadmore","orderBy_for_loadmore","category_for_loadmore","fetch","then","response","json","result","items","catch","console","log","exact","path","render","defaultState","rootReducer","combineReducers","action","store","createStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9675c74b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/book_thumbnail.94cd23fa.png\";","import './Books.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport book_thumbnail from \"../media/book_thumbnail.png\"\r\n\r\nexport const Books = ({loadMore})=> {\r\n\r\n    const dispatch = useDispatch()\r\n    const books = useSelector(state => state.allBooksReducer.books)\r\n    const totalItems = useSelector(state => state.allBooksReducer.totalItems)\r\n    const isFetching = useSelector(state => state.allBooksReducer.isFetching)\r\n    const loadmore_button_display = useSelector(state => state.allBooksReducer.loadmore_button_display)\r\n    const isFetching_loadmore = useSelector(state => state.allBooksReducer.isFetching_loadmore)\r\n    let key_counter = 0\r\n\r\n\r\n\r\n    const handlerLink = (props) => {\r\n        dispatch({type: \"BOOK_ETAG\", payload: props})\r\n    }\r\n\r\n    if (isFetching === true) {\r\n        return (\r\n            <div className=\"loading\">\r\n                <h2>...Loading</h2>\r\n            </div>\r\n        )\r\n    } else if (books.length === 0) {\r\n        return (\r\n            <div className=\"loading\">\r\n                <h2>No books</h2>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <p className=\"d-flex justify-content-center p-3\">{totalItems}</p>\r\n                <div className=\"container mb-3\">\r\n                    <div className=\" row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4\">\r\n                            {books.map( item => {\r\n                                let thumbnail_url = item.volumeInfo.imageLinks === undefined\r\n                                    ? book_thumbnail\r\n                                    : item.volumeInfo.imageLinks.thumbnail\r\n                                let categories = item.volumeInfo.categories === undefined\r\n                                    ? \"\"\r\n                                    : item.volumeInfo.categories[0]\r\n                                let authors = item.volumeInfo.authors ? item.volumeInfo.authors.join(', ') : item.volumeInfo.authors\r\n                                return (\r\n                                    <Link className=\"col book_block\"  key={key_counter++} to=\"/book\" onClick={() => handlerLink(item.etag)}>\r\n                                        <div className=\"card h-100\">\r\n                                            <img src={thumbnail_url} className=\"card-img-top shadow mb-3 bg-white rounded\" alt=\"Book thumbnail\"/>\r\n                                            <div>\r\n                                                <p><u>{categories}</u></p>\r\n                                                <h6>{item.volumeInfo.title}</h6>\r\n                                                <p><small className=\"text-muted\">{authors}</small></p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Link>\r\n                                )\r\n                            })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"row d-flex justify-content-center\">\r\n                        <div className=\"loadmore_button mb-5 rounded\" onClick={loadMore} style={{display: loadmore_button_display}}>\r\n                            <h5>{isFetching_loadmore}</h5>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import './Header.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link, useHistory} from 'react-router-dom';\r\n\r\nexport const Header = ({fetchBooks}) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const placeholder = useSelector(state => state.allBooksReducer.placeholder)\r\n\r\n\r\n    const handlerOrder = (event) => {\r\n        dispatch({type: \"CHANGE_ORDER\", payload: event.target.value})\r\n    }\r\n    const handlerCategory = (event) => {\r\n        dispatch({type: \"CHANGE_CATEGORY\", payload: event.target.value})\r\n    }\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        history.push('/')\r\n        fetchBooks()\r\n    }\r\n    return(\r\n        <div className=\"header container-fluid\">\r\n            <div className=\"header_layer\">\r\n                <div className=\"row header_content pb-3\">\r\n                    <div className=\"col-sm-4 d-flex justify-content-center\">\r\n                        <Link to=\"/\"><h1><i className=\"fas fa-book\"> Gbooks</i></h1></Link>\r\n                    </div>\r\n                    <div className=\"col-sm-8 \">\r\n                        <div className=\"row d-flex justify-content-center\">\r\n                            <div className=\"col d-flex justify-content-center\">\r\n                                <form onSubmit={onSubmit}>\r\n                                    <input className=\"search_bar rounded\" type=\"text\" placeholder={placeholder}\r\n                                       onChange={ (event) => {\r\n                                           dispatch({type: \"INPUT\", payload: event.target.value})\r\n                                       }}/>\r\n                                    <Link to=\"/\"><i className=\"fas fa-search\" onClick={fetchBooks}/></Link>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"row d-flex justify-content-center pt-3\">\r\n                                <div className=\"col-md-6 d-flex justify-content-center d-flex align-items-center pt-3\">\r\n                                    <label>Category</label>\r\n                                    <select className=\"rounded\" onChange={handlerCategory}>\r\n                                        <option value=\"\">all</option>\r\n                                        <option value=\"+subject:art\">art</option>\r\n                                        <option value=\"+subject:biography\">biography</option>\r\n                                        <option value=\"+subject:computers\">computers</option>\r\n                                        <option value=\"+subject:history\">history</option>\r\n                                        <option value=\"+subject:medical\">medical</option>\r\n                                        <option value=\"+subject:poetry\">poetry</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"col-md-6 d-flex justify-content-center d-flex align-items-center pt-3\">\r\n                                    <label>Sorting</label>\r\n                                    <select className=\"rounded\" onChange={handlerOrder}>\r\n                                        <option value=\"&orderBy=relevance\">relevance</option>\r\n                                        <option value=\"&orderBy=newest\">newest</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {useSelector} from \"react-redux\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport './CurrentBook.scss';\r\nimport book_thumbnail from \"../media/book_thumbnail.png\"\r\n\r\n\r\nexport const CurrentBook = () => {\r\n\r\n    const history = useHistory()\r\n    const book_etag = useSelector(state => state.currentBookReducer.book_etag)\r\n    const books = useSelector(state => state.allBooksReducer.books)\r\n    let key_counter = 0\r\n\r\n    const handlerBack = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    let arr_bookcards = books.map( item => {\r\n        let thumbnail_url = item.volumeInfo.imageLinks === undefined\r\n            ? book_thumbnail\r\n            : item.volumeInfo.imageLinks.thumbnail\r\n        let categories = item.volumeInfo.categories === undefined\r\n            ? \"\" : item.volumeInfo.categories\r\n        let authors = item.volumeInfo.authors ? item.volumeInfo.authors.join(', ') : item.volumeInfo.authors\r\n        let buy_button = item.saleInfo.buyLink === undefined ? \"\" : <a href={item.saleInfo.buyLink} rel=\"noreferrer\" target=\"_blank\" className=\"buy_button shadow mb-3 rounded\">Buy on Google Play</a>\r\n\r\n        if (item.etag === book_etag) {\r\n            return (\r\n                <div className=\"container pt-5\" key={key_counter++}>\r\n                    <div className=\"row \">\r\n                        <div className=\"wrapper col-sm-6 mb-5\">\r\n                            <img src={thumbnail_url} className=\"img shadow bg-white rounded\" alt=\"Book thumbnail\"/>\r\n                        </div>\r\n                        <div className=\"col-sm-6\">\r\n                            <h3>{item.volumeInfo.title}</h3>\r\n                            <h5 className=\"text-muted\">{authors}</h5>\r\n                            <p><u>{categories}</u></p>\r\n                            <p className=\"description mb-4\">{item.volumeInfo.description}</p>\r\n                            {buy_button}\r\n                            <div className=\"back_button shadow mb-5 rounded\" onClick={handlerBack}>Back to list</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            {arr_bookcards}\r\n        </div>\r\n\r\n    )\r\n}","import './App.css';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Books} from \"./components/Books\";\nimport {Header} from \"./components/Header\";\nimport {CurrentBook} from \"./components/CurrentBook\";\nimport {BrowserRouter, Route} from \"react-router-dom\";\n\nfunction App() {\n\n    const dispatch = useDispatch()\n    const startIndex = useSelector(state => state.allBooksReducer.startIndex)\n    const input = useSelector(state => state.allBooksReducer.input)\n    const orderBy = useSelector( state => state.allBooksReducer.orderBy)\n    const category = useSelector( state => state.allBooksReducer.category)\n    const input_for_loadmore = useSelector( state => state.allBooksReducer.input_for_loadmore)\n    const orderBy_for_loadmore = useSelector( state => state.allBooksReducer.orderBy_for_loadmore)\n    const category_for_loadmore = useSelector( state => state.allBooksReducer.category_for_loadmore)\n\n    const fetchBooks = () => {\n        if (input === \"\") {\n            dispatch({type: \"INPUT_PLACEHOLDER\", payload: \"Empty request\"})\n            dispatch({type: \"FETCH_BOOKS\", payload: []})\n            dispatch({type: \"TOTAL_ITEMS\", payload: \"\"})\n            dispatch({type: \"LOADMORE_BUTTON\", payload: \"none\"})\n        } else {\n            dispatch({type: \"IS_FETCHING\", payload: true})\n            fetch(`https://www.googleapis.com/books/v1/volumes?q=${input}${category}&startIndex=0&maxResults=30${orderBy}&key=AIzaSyCxJF0JN_3n7DjrjVPcNFbBDdpveeeWm1k`)\n                .then(response => response.json())\n                .then(result => {\n                    dispatch({type: \"IS_FETCHING\", payload: false})\n                    dispatch({type: \"FETCH_BOOKS\", payload: result.items})\n                    dispatch({type: \"TOTAL_ITEMS\", payload: <span>Found <strong>{result.totalItems}</strong> results</span>})\n                    dispatch({type: \"INPUT_PLACEHOLDER\", payload: \"Book title\"})\n                    dispatch({type: \"CHANGE_INPUT_FOR_LOADMORE\", payload: input})\n                    dispatch({type: \"CHANGE_ORDER_FOR_LOADMORE\", payload: orderBy})\n                    dispatch({type: \"CHANGE_CATEGORY_FOR_LOADMORE\", payload: category})\n                    dispatch({type: \"CLEAR_START_INDEX\", payload: 30})\n                    result.totalItems > 30 ? dispatch({type: \"LOADMORE_BUTTON\", payload: \"\"}) : dispatch({type: \"LOADMORE_BUTTON\", payload: \"none\"})\n                })\n                .catch(e => {\n                    console.log(e)\n                })\n        }\n    }\n    const loadMore = () => {\n        dispatch({type: \"IS_FETCHING_LOADMORE\", payload: <i className=\"fas fa-redo-alt\"/>})\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=${input_for_loadmore}${category_for_loadmore}&startIndex=${startIndex}&maxResults=30&${orderBy_for_loadmore}&key=AIzaSyCxJF0JN_3n7DjrjVPcNFbBDdpveeeWm1k`)\n            .then(response => response.json())\n            .then(result => {\n                dispatch({type: \"LOADMORE_BOOKS\", payload: result.items})\n                dispatch({type: \"IS_FETCHING_LOADMORE\", payload: \"Load more\"})\n                dispatch({type: \"START_INDEX\", payload: 30})\n                startIndex >= result.totalItems - 30 ? dispatch({type: \"LOADMORE_BUTTON\", payload: \"none\"}) : dispatch({type: \"LOADMORE_BUTTON\", payload: \"\"})\n            })\n            .catch(e => {\n                console.log(e)\n            })\n    }\n    return(\n        <BrowserRouter>\n            <Header fetchBooks={fetchBooks}/>\n            <Route exact path=\"/\" render={()=><Books loadMore={loadMore}/>}/>\n            <Route path=\"/book\" render={()=><CurrentBook />}/>\n        </BrowserRouter>\n    );\n\n}\nexport default App;","const defaultState = {\r\n    book_etag: \"\",\r\n}\r\n\r\nexport const currentBookReducer = (state= defaultState, action)=> {\r\n    switch (action.type) {\r\n        case \"BOOK_ETAG\":\r\n            return {...state, book_etag: action.payload}\r\n        default: return state\r\n    }\r\n}","\r\nconst defaultState = {\r\n    books: [],\r\n    totalItems: null,\r\n    isFetching: false,\r\n    loadmore_button_display: \"none\",\r\n    input: \"\",\r\n    placeholder: \"Book title\",\r\n    orderBy: \"&orderBy=relevance\",\r\n    category: \"\",\r\n    isFetching_loadmore: \"Load more\",\r\n    input_for_loadmore: \"\",\r\n    orderBy_for_loadmore: \"\",\r\n    category_for_loadmore: \"\",\r\n    startIndex: 30,\r\n}\r\n\r\nexport const allBooksReducer = (state= defaultState, action)=> {\r\n    switch (action.type) {\r\n        case \"FETCH_BOOKS\":\r\n            return {...state, books: [...action.payload]}\r\n        case \"LOADMORE_BOOKS\":\r\n            return {...state, books: [...state.books, ...action.payload]}\r\n        case \"TOTAL_ITEMS\":\r\n            return {...state, totalItems: action.payload}\r\n        case \"IS_FETCHING\":\r\n            return {...state, isFetching: action.payload}\r\n        case \"LOADMORE_BUTTON\":\r\n            return {...state, loadmore_button_display: action.payload}\r\n        case \"INPUT\":\r\n            return {...state, input: action.payload}\r\n        case \"INPUT_PLACEHOLDER\":\r\n            return {...state, placeholder: action.payload}\r\n        case \"CHANGE_ORDER\" :\r\n            return {...state, orderBy: action.payload}\r\n        case \"CHANGE_CATEGORY\" :\r\n            return {...state, category: action.payload}\r\n        case \"IS_FETCHING_LOADMORE\" :\r\n            return {...state, isFetching_loadmore: action.payload}\r\n        case \"CHANGE_INPUT_FOR_LOADMORE\" :\r\n            return {...state, input_for_loadmore: action.payload}\r\n        case \"CHANGE_ORDER_FOR_LOADMORE\" :\r\n            return {...state, orderBy_for_loadmore: action.payload}\r\n        case \"CHANGE_CATEGORY_FOR_LOADMORE\" :\r\n            return {...state, category_for_loadmore: action.payload}\r\n        case \"START_INDEX\" :\r\n            return {...state, startIndex: state.startIndex + action.payload}\r\n        case \"CLEAR_START_INDEX\" :\r\n            return {...state, startIndex: action.payload}\r\n\r\n        default: return state\r\n    }\r\n}","import {createStore, combineReducers} from \"redux\";\r\nimport {currentBookReducer} from \"./currentBookReducer\"\r\nimport {allBooksReducer} from \"./allBooksReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    allBooksReducer,\r\n    currentBookReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport {store} from \"./store\";\nimport {Provider} from \"react-redux\";\n\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}